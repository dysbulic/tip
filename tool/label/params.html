<?xml version="1.0" encoding="ISO-8859-1" standalone="no" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>Debian SVG Cover</title>
    <link rel="stylesheet" href="../styles/main.css" type="text/css" />
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
    <script type="text/javascript">
      _uacct = "UA-939849-1";
      urchinTracker();
    </script>
  </head>
  <body>
    <form id="genform" method="get" action="images/cover_template.svg">
      <fieldset>
        <legend>Disc Name:</legend>
        <input type="text" name="discname" value="Binary disc #1"/>
      </fieldset>
      <fieldset>
        <legend>Release:</legend>
        <input type="text" name="release" value="Woody 3.0 r1"/>
      </fieldset>
      <fieldset>
        <legend>Disc Id:</legend>
        <input type="text" name="discid" value="1"/>
      </fieldset>
      <!--
      <fieldset>
        <legend>Generate or Submit:</legend>
        <div>
          <input id="gencheck" type="checkbox" name="generate" checked="checked"/>
          Generate Label (some people would just like the url to paste into <a href="http://xml.apache.org/batik/">Batik</a> which handles some things <a href="http://www.adobe.com/svg/">Adobe's viewer</a> doesn't.
        </div>
      </fieldset>
      -->
      <div>
        <input name="submit" type="submit" value="Generate SVG"/>
        <input name="submit" type="button" value="Launch Batik" onclick="launch_batik()"/>
      </div>
    </form>
    <div id="url">
    </div>
    <script type="text/javascript">//<![CDATA[
      function launch_batik() {
        form = document.getElementById("genform");
        var value = document.URL.replace(/\/[^\/]*$/, "/").replace("covers/", "svg_web_start/?svg=../covers") + form.action.replace(/^.*\/covers/, "") + "?";
        var paramnames = ["discid", "release", "discname"];
        for(var i = 0; i < paramnames.length; i++) {
          var paramvalue = form.elements[paramnames[i]].value.replace(/ /g, "+");
          value += paramnames[i] + "=" + escape(escape(paramvalue));
          if(i + 1 < paramnames.length) {
            value += "%26";
          }
        }
        //document.getElementById("url").firstChild.data = value;
        window.location = value;
      }
    //]]></script>
  </body>
</html>
