Pry.commands.alias_command 'c', 'continue'
Pry.commands.alias_command 's', 'step'
Pry.commands.alias_command 'n', 'next'
Pry.commands.alias_command 'q', 'quit'
Pry.commands.alias_command 'w', 'whereami'
Pry.commands.alias_command 'b', 'pry-backtrace'
Pry.commands.alias_command 'bex', '_ex_.backtrace' # last exception

Pry::Commands.command /^$/, "repeat last command" do
  _pry_.run_command Pry.history.to_a.last
end

class Pry
  class Command::MyPryBacktrace < Pry::ClassCommand
    match 'my-backtrace'
    group 'Context'
    description 'Show entries for my code in the backtrace.'

    def process
      p
      _pry_.pager.page text.bold('Backtrace:') << "\n--\n" << _pry_.backtrace.join("\n")
    end
  end

  Pry::Commands.add_command(Pry::Command::MyPryBacktrace)
end
