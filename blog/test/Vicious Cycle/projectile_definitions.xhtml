<!-- This is the initial problem definition and a shared set of
     variable definitions for the projectile tracking problem. It is
     shared by a couple of different solutions.
-->


<blockquote>
  <p>Projectile Leading Problem: Given an initial shot position (Spos), a constant shot speed (Sspeed), an initial target position (Tpos), and a constant target velocity (speed + dir) (Tvel) derive the equation for calculating the shot direction (Sdir) such that at some time (t) the shot would hit the target. Be sure to derive an equation for t as well!</p>
  <p>Write a function to compute these values (Sdir and t).</p>
</blockquote>
        
<p>First, the known variables from the problem definition:</p>
        
<math xmlns="&mathml;" mode="display">
  <mtable columnalign="center left">
    <mtr>
      <mtd>
        <mover><mi>p</mi><mo stretchy="true">&rarr;</mo></mover><mo>=</mo>
        <mfenced>
          <msub><mi>p</mi><mi>x</mi></msub>
          <msub><mi>p</mi><mi>y</mi></msub>
          <msub><mi>p</mi><mi>z</mi></msub>
        </mfenced>
      </mtd>
      <mtd><mtext>the initial firing position for the projectile</mtext></mtd>
    </mtr>
    <mtr>
      <mtd><math xmlns="&mathml;"><msub><mi>f</mi><mi>p</mi></msub></math></mtd>
      <mtd><mtext>the magnitude of the initial impulse of the projectile</mtext></mtd>
    </mtr>
    <mtr>
      <mtd>
        <mover><mi>t</mi><mo stretchy="true">&rarr;</mo></mover><mo>=</mo>
        <mfenced>
          <msub><mi>t</mi><mi>x</mi></msub>
          <msub><mi>t</mi><mi>y</mi></msub>
          <msub><mi>t</mi><mi>z</mi></msub>
        </mfenced>
      </mtd>
      <mtd><mtext>the initial position of the target</mtext></mtd>
    </mtr>
    <mtr>
      <mtd>
        <msub><mi>f</mi><mi>t</mi></msub>
        <mfenced><msub><mover accent="true"><mi>v</mi><mo stretchy="true">^</mo></mover><mi>t</mi></msub></mfenced>
      </mtd>
      <mtd><mtext>velocity vector for the target</mtext></mtd>
    </mtr>
  </mtable>
</math>
    
<p>The variables to be determined are:</p>
    
<math xmlns="&mathml;" mode="display">
  <mtable columnalign="center left">
    <mtr>
      <mtd>
        <msub><mover accent="true"><mi>v</mi><mo stretchy="true">^</mo></mover><mi>p</mi></msub>
      </mtd>
      <mtd><mtext>unit vector in the direction of the projectile movement</mtext></mtd>
    </mtr>
    <mtr>
      <mtd><mo>&Delta;</mo><mi>t</mi></mtd>
      <mtd><mtext>time between launch and hit</mtext></mtd>
    </mtr>
  </mtable>
</math>
    
<p>From the given variables, some additional useful variables can be defined:</p>
    
<math xmlns="&mathml;" mode="display">
  <mtable columnalign="center left">
    <mtr>
      <mtd>
        <mover><msub><mi>m</mi><mi>p</mi></msub><mo stretchy="true">&rarr;</mo></mover><mo>=</mo>
        <msub><mi>f</mi><mi>p</mi></msub><mfenced><mrow><mo>&Delta;</mo><mi>t</mi></mrow></mfenced>
        <mfenced><msub><mover accent="true"><mi>v</mi><mo stretchy="true">^</mo></mover><mi>p</mi></msub></mfenced>
      </mtd>
      <mtd><mtext>velocity vector for the projectile</mtext></mtd>
    </mtr>
    <mtr>
      <mtd>
        <mover><msub><mi>m</mi><mi>t</mi></msub><mo stretchy="true">&rarr;</mo></mover><mo>=</mo>
        <msub><mi>f</mi><mi>t</mi></msub><mfenced><mrow><mo>&Delta;</mo><mi>t</mi></mrow></mfenced>
        <mfenced><msub><mover accent="true"><mi>v</mi><mo stretchy="true">^</mo></mover><mi>t</mi></msub></mfenced>
      </mtd>
      <mtd><mtext>impulse and direction unit vector for the target</mtext></mtd>
    </mtr>
    <mtr>
      <mtd>
        <mtable columnalign="right center left">
          <mtr>
            <mtd><mover><mi>H</mi><mo stretchy="true">&rarr;</mo></mover></mtd>
            <mtd><mo>=</mo></mtd>
            <mtd>
              <mover><mi>t</mi><mo stretchy="true">&rarr;</mo></mover>
              <mo>+</mo>
              <mover><msub><mi>m</mi><mi>t</mi></msub><mo stretchy="true">&rarr;</mo></mover>
            </mtd>
          </mtr>
          <mtr>
            <mtd></mtd>
            <mtd>=</mtd>
            <mtd>
              <mover><mi>p</mi><mo stretchy="true">&rarr;</mo></mover>
              <mo>+</mo>
              <mover><msub><mi>m</mi><mi>p</mi></msub><mo stretchy="true">&rarr;</mo></mover>
            </mtd>
          </mtr>
        </mtable>
      </mtd>
      <mtd><mtext>hit vector where the target and projectile vectors meet</mtext></mtd>
    </mtr>
  </mtable>
</math>
    
<p>Graphically, the relationship of these vectors looks like:</p>
    
<object data="vector_layout.svg" type="image/svg+xml" style="width: 100%; height: 450px;"></object>
