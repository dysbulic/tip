<!DOCTYPE html PUBLIC
  "-//W3C//DTD XHTML+SMIL //EN"
  "http://www.w3.org/2001/SMIL20/WD/xhtmlplussmil.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:smil="http://www.w3.org/2001/SMIL20">
<head>
  <title>EventSource client</title>
  <script type="application/javascript" src=".../lib/jquery/jquery.js"/>
  <script type="application/javascript"><![CDATA[
      $( function() {
          var $out = $( '<ul/>' )
          $( 'body' ).append( $out )
          
          try {
              console.log( 'Creating EventSource' )
              var source = new EventSource( 'EventSource server.php' )
              console.log( 'Created EventSource: ' + source )
              source.addEventListener( 'server-time', function( event ) {
                  $out.append( $( '<li/>').text( 'server-time: ' + event.data ) )
              }, false)
              source.addEventListener( 'count', function( event ) {
                  $out.append( $( '<li/>').text( 'count: ' + event.data ) )
              }, false)
          } catch( e ) {
              $out.append( $( '<li/>').text( 'Error: ' + e ) )
          }
      } )
  ]]></script>
</head>
<body>
    <h1>EventSource Test</h1>

    <p>This script should display events generated by <a href="EventSource server.php">EventSource server.php</a>.</p>
</body>
</html>
