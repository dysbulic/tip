<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:tip="http://dhappy.org/tip/0.1/a" xml:lang="en">
  <head>
    <title>Ordered JSON Object</title>
    <link rel="stylesheet" type="text/css" href="doh.css" />
    <link rel="stylesheet" type="text/css" href="doh_ie.css" tip:browser="ie"/>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
    <style type="text/css">
      body { max-width: 750px; margin: auto; }
      .head h1, .head h2 { text-align: center; }
      hr { width: 50%; }
      object { width: 100%; }
      [data='simple_html_tree.svg'] { height: 200px; }
    </style>
  </head>
  <body>
    <div class="head">
      <h1>Ordered <acronym title="Javascript Object Notation">JSON</acronym> Object</h1>
      <h2><a href="mailto:Will%20Holcomb%20%3Cwill@dhappy.org%3E">Will Holcomb</a></h2>
      <h2>26 January 2010</h2>
    </div>
    
    <p>I would like to represent a lightweight ordered graph in <acronym title="JSON">javascript object notation</acronym>. For example, consider this simple <a href="simple_html_tree.svg"><acronym title="Hypertext Markup Language">HTML</acronym> tree</a>:</p>

    <object type="image/svg+xml" data="simple_html_tree.svg"></object>

    <p>One way of representing it in <acronym title="Javascript Object Notation">JSON</acronym> is:</p>

    <pre>var html = { head: { title: 'Greeting' },
             body: { p: 'Hello digital world!',
                     p: 'This is hypertext' } } }</pre>

    <!--more-->
    
    <p>This lets me write <code>html.head.title == 'Greeting'</code>. However, the <code>p</code> elements overwrite each other, so the <code>Hello digitial world!</code> string is lost. That could be fixed as:</p>

    <pre>var html = { head: { title: 'Greeting' },
             body: { p: [ 'Hello digital world!',
                          'This is hypertext' ] } }</pre>

    <p>Which lets me write <code>html.body.p[0] == 'Hello digital world!'</code>. Unfortunately, <acronym title="Javascript Object Notation">JSON</acronym> objects are unordered, so when iterating, the order may be different than the original.</p>

    <p><a href="http://stackoverflow.com/questions/1116708/getting-first-json-property">Apparently</a>, all the browsers return them in order, however.</p>
  </body>
</html>
