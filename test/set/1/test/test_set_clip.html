<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>Setting Clip</title>
    <style type="text/css">
      p {
        align: justify;
      }
      #bar {
        width: 100%;
        text-align: center;
        background-color: red;
        position: absolute;
        top: 30%;
        left: 0%;
        z-index: 5;
      }
      h1, a {
        color: black;
      }
      form {
        text-align: center;
      }
      #clip-status {
        font-size: 20pt;
        text-align: center;
      }
    </style>
    <script type="text/javascript">//<![CDATA[
      function setClip(top, right, bottom, left) {
        var clip = "none";
        if(typeof(top) != "undefined") {
          clip = "rect(" + top + ", " + right + ", " + bottom + ", " + left + ")";
        }
        document.getElementById('bar').style.clip = clip;
        document.getElementById('clip-status').innerHTML = "Current clip: \"" + clip + "\"";
      }
    //]]></script>
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
    <script type="text/javascript">
      _uacct = "UA-939849-1";
      urchinTracker();
    </script>
  </head>
  <body onload="setClip()">
    <p>This is a mozilla bug test. The bar below has a link in it
    which works when the page loads. Clicking the buttons changes the
    <code>clip</code> property for the bar. In all of the
    configurations except for clipped from the left and right both the
    link is accessible.</p>
    <hr />
    <div id="clip-status"></div>
    <h1 id="bar"><a href="javascript:alert('hi')">Test Link</a></h1>
    <form action="">
      <div>
      <input type="button" style="background-color: lightblue" value="Set Clipped Left and Right"
       onclick="setClip('auto', (window.innerWidth / 2 - 80) + 'px',
                        'auto', (window.innerWidth / 2 + 80) + 'px')">
      </input>
      <input type="button" value="Set Clipped Top and Bottom"
       onclick="setClip('0px', 'auto', '30px', 'auto')">
      </input>
      <input type="button" value="Set Half Clipped Left"
       onclick="setClip('auto', 'auto', 'auto', (window.innerWidth / 2 - 80) + 'px')">
      </input>
      <input type="button" value="Set Half Clipped Right"
       onclick="setClip('auto', (window.innerWidth / 2 + 80) + 'px', 'auto', 'auto')">
      </input>
      <input type="button" value="Set Clip Auto"
       onclick="setClip('auto', 'auto', 'auto', 'auto')">
      </input>
      <input type="button" value="Set Clip None"
       onclick="setClip()">
      </input>
      </div>
    </form>
  </body>
</html>
