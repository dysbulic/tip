<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>Functions from Javascript Evals</title>
   <link type="text/css" rel="stylesheet" href="javascript_test.css" />
   <style type="text/css">
   </style>
    <script type="text/javascript">
      function debug(text) {
        var debugArea = document.createElement("div");
        debugArea.appendChild(document.createTextNode(text));
        document.getElementsByTagName("body").item(0).appendChild(debugArea);
      }
      function debugBreak() {
        document.getElementsByTagName("body").item(0)
          .appendChild(document.createElement("hr"));
      }
    </script>
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
    <script type="text/javascript">
      _uacct = "UA-939849-1";
      urchinTracker();
    </script>
  </head>
  <body>
    <p>The goal here is to be able to take in a function definition
    from an external file and then assign it to a local variable.</p>
    <form action="" onsubmit="eval(this['code'].value); return false">
      <div style="height: 90%">
        <textarea name="code" cols="" rows="">
var func = "function(val) { debug('function called with: ' + val + ' (' + typeof(val) + ')') }";
var testReturnFunc = eval(func);
debug("Return from eval = " + typeof(testReturnFunc));
if(typeof(testReturnFunc) != "undefined") {
  testReturnFunc("eval return");
}
eval("var testInnerFunc = " + func);
debug("Assign within eval = " + typeof(testInnerFunc));
if(typeof(testInnerFunc) != "undefined") {
  testInnerFunc("assign in eval");
}</textarea>
      </div>
      <div><input type="submit" value="Go"></input></div>
    </form>
    <div><a href="javascript:if(typeof(testfunc)!='undefined'){testfunc()}">Test Conditions in URI</a></div>
    <hr />
  </body>
</html>
